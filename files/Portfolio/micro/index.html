<!DOCTYPE html><html><head><title>Dre Barrera</title><meta charset="utf-8"><meta name="description" content="Default WebGen Page"><meta name="keywords" content=""><meta name="description" content="Andres Barrera"><script src="..\JQuery.js"></script><script src="..\JQuery-UI.js"></script><script>$(document).ready(function(){
	/* -------------------- JQuery .clone() Fixes ------------------ */
	(function (original) {
  		jQuery.fn.clone = function () {
    			var result           = original.apply(this, arguments),
        			my_textareas     = this.find('textarea').add(this.filter('textarea')),
        			result_textareas = result.find('textarea').add(result.filter('textarea')),
        			my_selects       = this.find('select').add(this.filter('select')),
        			result_selects   = result.find('select').add(result.filter('select'));

    			for (var i = 0, l = my_textareas.length; i < l; ++i) $(result_textareas[i]).val($(my_textareas[i]).val());
    			for (var i = 0, l = my_selects.length;   i < l; ++i) {
      				for (var j = 0, m = my_selects[i].options.length; j < m; ++j) {
        					if (my_selects[i].options[j].selected === true) {
          					result_selects[i].options[j].selected = true;
        					}
      				}
   			}
    			return result;
  		};
	}) (jQuery.fn.clone);

	var waitForReplace = 0;

	$("#commandC").on("click", ".ctriangle", function() {
		prevHeight = $(this).parent().height();
		$(this).parent().css('height', 'auto');
		autoHeight = $(this).parent().height();
		if(Math.floor(prevHeight) != Math.floor(autoHeight)){
			$(this).parent().css('height', '1.5vh');
			$(this).parent().animate({
				height: autoHeight,
				deg: 90 
			},
    			{
      				duration: 500,
      				step: function(now) {
        					$(this).children('.ctriangle').css({ transform: 'rotate(' + now + 'deg)' });
      				}
			});
			$(this).parent().parent().next('.c').animate({
				marginTop: autoHeight
			}, 500);
		}
		else{
			$(this).parent().animate({
				height: "1.5vh",
				deg: 0 
			},
    			{
      				duration: 500,
      				step: function(now) {
        					$(this).children('.ctriangle').css({ transform: 'rotate(' + now + 'deg)' });
      				}
			});
			$(this).parent().parent().next('.c').animate({
				marginTop: 0
			}, 500);
		}
	});

	$("#codeC").on("click", ".ctriangle", function() {
		prevHeight = $(this).parent().height();
		$(this).parent().css('height', 'auto');
		autoHeight = $(this).parent().height();
		if(Math.floor(prevHeight) != Math.floor(autoHeight)){
			$(this).parent().css('height', '1.5vh');
			$(this).parent().animate({
				height: autoHeight,
				deg: 90 
			},
    			{
      				duration: 500,
      				step: function(now) {
        					$(this).children('.ctriangle').css({ transform: 'rotate(' + now + 'deg)' });
      				}
			});
			$(this).parent().parent().next('.c').animate({
				marginTop: autoHeight
			}, 500);
		}
		else{
			$(this).parent().animate({
				height: "1.5vh",
				deg: 0 
			},
    			{
      				duration: 500,
      				step: function(now) {
        					$(this).children('.ctriangle').css({ transform: 'rotate(' + now + 'deg)' });
      				}
			});
			$(this).parent().parent().next('.c').animate({
				marginTop: 0
			}, 500);
		}
	});

	$("#codeC").on("dblclick", ".cT", function(e) {
		if(e.target == e.currentTarget){
			if(waitForReplace - 1 == $(this).parent().index()){
				waitForReplace = 0;
			}
			else if(waitForReplace - 1 > $(this).parent().index()){
				waitForReplace = waitForReplace - 1;
			}
			$(this).parent().remove();
		}
	});

	$("#codeC").on("click", ".cT", function(e) {
		if(e.target == e.currentTarget){
			if(waitForReplace == 0){
				waitForReplace = $(this).parent().index() + 1;
				$(this).css({'border':'1px solid black'});
			}
			else{
				if($(this).parent().index() + 1 == waitForReplace){
					waitForReplace = 0;
					$(this).css({'border':'0px solid black'});
				}
				else{
					x = $(this).parent();
					y = $('#codeC').children().eq(waitForReplace - 1);
					$('#codeC').children().eq(waitForReplace - 1).children().css({'border':'0px solid black'});
					z1 = y.replaceWith(x.clone());
					z2 = x.replaceWith(y.clone());
					waitForReplace = 0;
				}
			}
		}
	});

	// Clone from Command to Code
	$('.cT').click(function(e){
		if(e.target == e.currentTarget){
			if(waitForReplace == 0){
				$('#codeC').find('.cT').css('height','1.5vh');
				$('#codeC').find('.ctriangle').css({transform:'rotate(0)'});
				$('#codeC').find('.c').css('margin-top','0px');
				x = $(this).parent().clone().appendTo( "#codeC" );
				x.children().css('height','1.5vh');
				x.find('.ctriangle').css({transform:'rotate(0)'});
				x.find('textarea').bind('input propertychange', function() {
					update();
				});
				$('#codeC').find('select').bind('input propertychange', function() {
					update();
				});
			}
			else{
				$('#codeC').find('.cT').css('height','1.5vh');
				$('#codeC').find('.ctriangle').css({transform:'rotate(0)'});
				$('#codeC').find('.c').css('margin-top','0px');
				y = $('#codeC').children().eq(waitForReplace - 1);
				x = $(this).parent().clone();
				y.after(x);
				y.remove();
				x.children().css('height','1.5vh');
				x.find('.ctriangle').css({transform:'rotate(0)'});
				x.find('textarea').bind('input propertychange', function() {
					update();
				});
				$('#codeC').find('select').bind('input propertychange', function() {
					update();
				});
				waitForReplace = 0;
			}
		}
	});

	$('.ctable > tbody > tr').click(function(){
		if($(this).attr('title')){
			alert($(this).attr('title'));
		}
	});

	// Compilation Functions

	function update(){
		$('#compiledT > textarea').val('');
		if($('#lang').val() == 'C'){
			const codeList = document.getElementById('codeC');
			for (i = 0; i < codeList.children.length; i++) {
				x = $('#codeC').children().eq(i);

				function register(rName){
					var bStrClr = 0b0;
					var bStrSet = 0b0;
					for (j = 0; j < x.find('tbody').children().length; j++){
						var row = x.find('tbody').children().eq(j);
						var bit = row.find('td').eq(0);
						var name = row.find('td').eq(1);
						var val = row.find('select').val();
						if(bit.text() != "Bit"){
							if(val == "EN"){
								bStrClr = (bStrClr  | (0b1 << parseInt(bit.text())));
								bStrSet = (bStrSet  | (0b1 << parseInt(bit.text())));
							}
							else if(val == "DN"){
								bStrClr = (bStrClr  | (0b1 << parseInt(bit.text())));
							}
						}
					}
					//alert(bStrClr.toString(16));
					//alert(bStrSet.toString(16));
					if(bStrClr){
						var out = rName + " &= ~0x"+bStrClr.toString(16)+";"
						if(bStrSet){
							out = out + "\n"+rName+" |= 0x"+bStrSet.toString(16)+";"
						}
						return out;
					}
					else{
						return "// No selection made.";
					}
				}

				const cDict = {
					"custom": x.find('textarea').val(),
					"rccAHBENR": register("RCC -> AHBENR"),
					"rccAPB1ENR": register("RCC -> APB1ENR"),
					"rccAPB2ENR": register("RCC -> APB2ENR")
				};

  				$('#compiledT > textarea').val($('#compiledT > textarea').val() + cDict[codeList.children[i].id] + '\n')
			}
		}
	}

	var observer = new MutationObserver(function(mutations) {
 		mutations.forEach(function(mutation) {
			update();
  		});
	});

	var config = {
  		childList: true,
  		subtree: true,
  		characterData: true
	};

	$('#codeC').find('textarea').bind('input propertychange', function() {
		update();
	});
	
	$('#codeC').find('select').bind('input propertychange', function() {
		update();
	});

	$('#lang').bind('input propertychange', function() {
		update();
	});

	observer.observe($('#codeC').get(0), config);
});</script><style>#title{ 	font-size: 5.2vh; 	line-height: 0.9; 	width: 50%; 	height: auto; 	padding-left: 5%; }  #description{ 	width: 50%; 	height: auto; 	font-size: 2.2vh; 	padding-right: 5%; 	font-weight: 300; }  #selectLangC{ 	font-size: 2vh; }  #commandToCode{ 	height: 80vh; 	width: 100%; }  #command{ 	height: 95%; 	width: 40%; }  #code{ 	height: 95%; 	width: 40%; 	margin-left: 5%; }  .ctcTitle{ 	font-size: 4vh; 	font-weight: 300; 	margin-top: 2vh; 	margin-left: 4%; 	width: 100%; 	position: relative; 	margin-block-end: 0.25em; }  .ctcContainer{ 	height: 65vh; 	width: 92%; 	margin-left: 4%; 	overflow-y: scroll; }  .c{ 	width: 100%; 	height: 4vh; 	display: inline-block; 	position: relative; }  .cT:hover{ 	border: 1px solid black; }  .cT{ 	padding-top: 1vh; 	padding-bottom: 1vh; 	padding-left: 2.5%; 	padding-right: 2.5%; 	font-size: 1.5 vh; 	border-radius: 1vh; 	display: inline-block; 	width: 80%; 	height: 1.5vh; 	position: relative; 	cursor: pointer; 	margin-left: 3%; 	margin-top: 0.5vh; 	overflow-y: hidden;  }  .ctriangle{ 	font-size: 1.6vh; 	float: right; 	color: black; }  .ctriangle:hover{ 	color: white; }  .cinfo{ 	display: block; 	margin-top: 1vh; 	color: #006497; 	background-color: #fafafa; 	padding: 0.5vh; 	border-radius: 0.5vh; }  .ctitle{ 	margin-block-end: 0em; 	margin-block-start: 0em; 	margin-top: 1vh; 	margin-left: 2%; 	padding-bottom: 0.5vh; 	font-weight: 300; 	font-size: 2.5vh; 	width: 100%; }  .ctable{ 	width: 98%; 	margin-top: 0.5vh; 	border:2px solid black;  	border-collapse: collapse;  }  .ctable tr, .ctable td{ 	color: black; 	border:1px solid black;  	border-collapse: collapse;  	padding: 0.25vh; }  .misc{ 	background-color: lightBlue; }  .rcc{  	background-color: coral; }  #compiledC{ 	width: 100%; 	height: 50vh; }  #compiledT{ 	text-align: center; 	font-size: 3vh; 	width: 100%; }</style></head>
<body style="margin:0;background-color:#fefefe;overflow-x:hidden;font-family:Helvetica;color:black;"><div style="background-color:#242323;overflow-x:visible;overflow-y:visible;"><div style="overflow-x:visible;overflow-y:visible;display:flex;justify-content:center;align-items:center;position:relative;"><p id="title" style="color:white;display:inline-block;position:relative;">microGEN<br><span style="font-size: 2.75vh; font-weight: 300;">Assembly and C code for Microprocessor Systems</span></p><p id="description" style="color:white;display:inline-block;position:relative;">microGEN is a microprocessor program generator for Assembly and C. Select your programming language below to begin. Then, click the desired commands / register modifications from the "Commands" section to append them to the "Code" section. Click the commands appended to "Code" in order to remove them. Click the arrow on each command to edit their adjustable fields. When you are happy with your program, hit compile to write the command blocks to code.</p></div><div id="selectLangC" style="overflow-x:visible;overflow-y:visible;display:flex;justify-content:center;"><p style="color:white;">Select Language <select id="lang"><option value = "ASM">ASM</option><option value = "C">C</option></select></p></div><div id="commandToCode" style="overflow-x:visible;overflow-y:visible;display:flex;justify-content:center;align-items:center;position:relative;"><div id="command" style="background-color:#fafafa;overflow-x:visible;overflow-y:visible;display:inline-block;position:relative;"><p class="ctcTitle" style="">Commands</p><div id="commandC" class="ctcContainer" style="background-color:white;overflow-x:visible;overflow-y:scroll;display:block;position:relative;"><p class="ctitle" style="">RCC Configuration</p><div id="rccAHBENR" class="c" style="overflow-x:visible;overflow-y:visible;"><div class="cT rcc">RCC: AHBENR Configuration <span class="ctriangle">&#9654;</span><br><span class="cinfo">Select EN to Enable or DN to Disable for the bits below. If you wish to leave a bit unchanged, leave the select blank.<br><table class="ctable"><tr><td>Bit</td><td>Name</td><td>Selection</td></tr><tr><td title="DMAEN is used to enable the internal clock for the Digital Memory Access">0</td><td>DMAEN</td><td><select></option><option>EN</option><option>DN</option></select></td></tr><tr><td>1</td><td>DAM2EN</td><td><select><option></option><option>EN</option><option>DN</option></select></td></tr><tr><td>2</td><td>SRAMEN</td><td><select><option></option><option>EN</option><option>DN</option></select></td></tr><tr><td>4</td><td>FLITFEN</td><td><select><option></option><option>EN</option><option>DN</option></select></td></tr><tr><td>6</td><td>CRCEN</td><td><select><option></option><option>EN</option><option>DN</option></select></td></tr><tr title="IOPAEN is used to enable the internal clock for Peripheral A"><td>17</td><td>IOPAEN</td><td><select><option></option><option>EN</option><option>DN</option></select></td></tr><tr title="IOPBEN is used to enable the internal clock for Peripheral B"><td>18</td><td>IOPBEN</td><td><select><option></option><option>EN</option><option>DN</option></select></td></tr><tr><td title="IOPCEN is used to enable the internal clock for Peripheral C">19</td><td>IOPCEN</td><td><select><option></option><option>EN</option><option>DN</option></select></td></tr><tr><td title="IOPDEN is used to enable the internal clock for Peripheral D">20</td><td>USART4RST</td><td><select><option></option><option>EN</option><option>DN</option></select></td></tr><tr><td title="IOPEEN is used to enable the internal clock for Peripheral E">21</td><td>IOPEEN</td><td><select><option></option><option>EN</option><option>DN</option></select></td></tr><tr><td title="IOPFEN is used to enable the internal clock for Peripheral F">22</td><td>IOPFEN</td><td><select><option></option><option>EN</option><option>DN</option></select></td></tr><tr><td>24</td><td>TSCEN</td><td><select><option></option><option>EN</option><option>DN</option></select></td></tr></table></span></div></div><div id="rccAPB1ENR" class="c" style="overflow-x:visible;overflow-y:visible;"><div class="cT rcc">RCC: APB1ENR Configuration <span class="ctriangle">&#9654;</span><br><span class="cinfo">Select EN to Enable or DN to Disable for the bits below. If you wish to leave a bit unchanged, leave the select blank.<br><table class="ctable"><tr><td>Bit</td><td>Name</td><td>Selection</td></tr><tr title="TIM2EN is used to enable the internal clock for Timer TIM2"><td>0</td><td>TIM2EN</td><td><select><option></option><option>EN</option><option>DN</option></select></td></tr><tr title="TIM3EN is used to enable the internal clock for Timer TIM3"><td>1</td><td>TIM3EN</td><td><select><option></option><option>EN</option><option>DN</option></select></td></tr><tr title="TIM6EN is used to enable the internal clock for Timer TIM6"><td>4</td><td>TIM6EN</td><td><select><option></option><option>EN</option><option>DN</option></select></td></tr><tr title="TIM7EN is used to enable the internal clock for Timer TIM7"><td>5</td><td>TIM7EN</td><td><select><option></option><option>EN</option><option>DN</option></select></td></tr><tr title="TIM14EN is used to enable the internal clock for Timer TIM14"><td>8</td><td>TIM14EN</td><td><select><option></option><option>EN</option><option>DN</option></select></td></tr><tr><td>11</td><td>WWDGEN</td><td><select><option></option><option>EN</option><option>DN</option></select></td></tr><tr title="SPI2EN is used to enable the internal clock for Serial Peripheral Interface SPI2"><td>14</td><td>SPI2EN</td><td><select><option></option><option>EN</option><option>DN</option></select></td></tr><tr><td>17</td><td>USART2EN</td><td><select><option></option><option>EN</option><option>DN</option></select></td></tr><tr><td>18</td><td>USART3EN</td><td><select><option></option><option>EN</option><option>DN</option></select></td></tr><tr><td>19</td><td>USART4EN</td><td><select><option></option><option>EN</option><option>DN</option></select></td></tr><tr><td>20</td><td>USART5EN</td><td><select><option></option><option>EN</option><option>DN</option></select></td></tr><tr><td>21</td><td>I2C1EN</td><td><select><option></option><option>EN</option><option>DN</option></select></td></tr><tr><td>22</td><td>I2C2EN</td><td><select><option></option><option>EN</option><option>DN</option></select></td></tr><tr><td>23</td><td>USBEN</td><td><select><option></option><option>EN</option><option>DN</option></select></td></tr><tr><td>25</td><td>CANEN</td><td><select><option></option><option>EN</option><option>DN</option></select></td></tr><tr><td>27</td><td>CRSEN</td><td><select><option></option><option>EN</option><option>DN</option></select></td></tr><tr><td>28</td><td>PWREN</td><td><select><option></option><option>EN</option><option>DN</option></select></td></tr><tr title="DACEN is used to enable the internal clock for the Digital to Analog Converter"><td>29</td><td>DACEN</td><td><select><option></option><option>EN</option><option>DN</option></select></td></tr><tr><td>30</td><td>CECEN</td><td><select><option></option><option>EN</option><option>DN</option></select></td></tr></table></span></div></div><div id="rccAPB2ENR" class="c" style="overflow-x:visible;overflow-y:visible;"><div class="cT rcc">RCC: APB2ENR Configuration <span class="ctriangle">&#9654;</span><br><span class="cinfo">Select EN to Enable or DN to Disable for the bits below. If you wish to leave a bit unchanged, leave the select blank.<br><table class="ctable"><tr><td>Bit</td><td>Name</td><td>Selection</td></tr><tr><td>0</td><td>SYSCFGCOMPEN</td><td><select><option></option><option>EN</option><option>DN</option></select></td></tr><tr><td>5</td><td>USART6EN</td><td><select><option></option><option>EN</option><option>DN</option></select></td></tr><tr><td>6</td><td>USART7EN</td><td><select><option></option><option>EN</option><option>DN</option></select></td></tr><tr><td>7</td><td>USART8EN</td><td><select><option></option><option>EN</option><option>DN</option></select></td></tr><tr title="ADCEN is used to enable the internal clock for the Analog to Digital Converter"><td>9</td><td>ADCEN</td><td><select><option></option><option>EN</option><option>DN</option></select></td></tr><tr title="TIM1EN is used to enable the internal clock for Timer TIM1"><td>11</td><td>TIM1EN</td><td><select><option></option><option>EN</option><option>DN</option></select></td></tr><tr title="SPI1EN is used to enable the internal clock for Serial Peripheral Interface SPI1"><td>12</td><td>SPI1EN</td><td><select><option></option><option>EN</option><option>DN</option></select></td></tr><tr><td>14</td><td>USART1EN</td><td><select><option></option><option>EN</option><option>DN</option></select></td></tr><tr title="TIM15EN is used to enable the internal clock for Timer TIM15"><td>16</td><td>TIM15EN</td><td><select><option></option><option>EN</option><option>DN</option></select></td></tr><tr title="TIM16EN is used to enable the internal clock for Timer TIM16"><td>17</td><td>TIM16EN</td><td><select><option></option><option>EN</option><option>DN</option></select></td></tr><tr title="TIM17EN is used to enable the internal clock for Timer TIM17"><td>18</td><td>TIM17EN</td><td><select><option></option><option>EN</option><option>DN</option></select></td></tr><tr><td>22</td><td>DBGMCUEN</td><td><select><option></option><option>EN</option><option>DN</option></select></td></tr></table></span></div></div><p class="ctitle" style="">Miscellaneous</p><div id="custom" class="c" style="overflow-x:visible;overflow-y:visible;"><div class="cT misc">Custom Code <span class="ctriangle">&#9654;</span><br><span class="cinfo">Type your code in the textbox below:<br><textarea style="width: 98%; margin-top: 0.5vh;max-width: 98%; height: 12vh;resize: none;"></textarea></span></div></div></div></div><div id="code" style="background-color:#fafafa;overflow-x:visible;overflow-y:visible;display:inline-block;position:relative;"><p class="ctcTitle" style="">Code</p><div id="codeC" class="ctcContainer" style="background-color:white;overflow-x:visible;overflow-y:scroll;display:flex;flex-direction:column;position:relative;"></div></div></div><div id="compiledC" style="background-color:#fafafa;overflow-x:visible;overflow-y:visible;display:flex;justify-content:center;position:relative;"><p id="compiledT" style="">Compiled Code<br><textarea style="width:80%; height: 36vh; margin-top: 2vh; font-size: 2vh;"></textarea></p></div></div></body></html>